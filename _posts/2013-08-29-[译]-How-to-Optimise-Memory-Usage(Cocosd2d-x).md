---

layout: post
categories: [Game]
tags: [Cocos2d-x 优化 翻译]

---

# 怎样优化内存使用  
    - 内存优化原则  
      + 了解瓶颈所在, 把它们显示出来~.  
      + 拒绝过度优化.  
    - 内存优化的层次  
      + cocos2d-x 客户端层  
      + cocos2d-x 引擎层  
      + c++ 语言层次  
    - 提示 & 技巧  
    - 推荐阅读  

## 内存优化原则  
为了优化程序的内存使用, 你应该知道是什么消耗了你的程序中大部分的内存. 答案就是*纹理*!  
纹理几乎占据了游戏中90%的内存. 所以我们应该尽最大的努力缩减我们程序中纹理的内存使用, 
否则当系统处于低内存警告时就会杀掉你的程序.  
这里我讲给出关于cocos2d-x游戏内存优化原则的两个一般性指导.  

### 了解瓶颈所在, 把它们显示出来  
哪种类型的纹理占据了大部分的程序内存? 这些纹理占据了多少内存?  
你可不要数着手指头胡乱猜测.  
恰好有这样一个工具集为你而准备的. 它们是苹果公司出品的工具, Allocations和Leaks.  
你可以在Xcode中长按Run键然后选择Profile选项来选择这两个工具.  
下面是截图:  
![](http://www.cocos2d-x.org/attachments/download/2178)  

